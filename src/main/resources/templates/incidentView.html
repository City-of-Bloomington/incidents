<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 - @copyright Copyright (C) 2014-2015 City of Bloomington, Indiana. All rights reserved.
 - @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.txt
 - @author W. Sibo <sibow@bloomington.in.gov>
 -
 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head th:replace="general::head('Incident Details')"></head>
  <body>
    <header>
      <div th:replace="general::header-staff"></div>
    </header>   
    <h2>View Incident</h2>
    <div th:if="${errors}">
      <div th:insert="general::errors(${errors})"></div>			
    </div>
    <div th:if="${messages}">
      <div th:insert="general::messages(${messages})"></div>			
    </div>		
    <fieldset>
      <legend>Incident General Info</legend>
      <div th:fragment="incident(incident)">      
	<dl>
	  <dt><label> Incident Type:</label></dt>
	  <dd>
	    <span th:text="${incident.incidentType}"> </span>
	  </dd>
	  <dt><label> Status:</label></dt>
	  <dd>
	    <span th:text="${incident.status}"> </span>
	  </dd>				
	  <dt><label> Reporter Email</label></dt>
	  <dd>
	    <span th:text="${incident.email}"> </span>
	  </dd>
	  <dt><label> Report Date & Time </label></dt>
	  <dd>
	    <span th:text="${incident.receivedStr}"> </span>
	  </dd>
	  <dt>
	    <label>Incident Date & time </label>
	  </dt>
	  <dd>
	    <span th:text="${incident.dateTimeInfo}"> </span> 
	  </dd>
	  <dt>
	    <label>Incident address:</label>
	  </dt>
	  <dd>
	    <span th:text="${incident.addressInfo}"> </span>
	  </dd>
	  <dt>
	    <label>Entry access:</label>
	  </dt>
	  <dd>
	    <span th:text="${incident.entryInfo}" ></span>
	  </dd>
	  <dt>
	    <label>Incident Details</label>
	  </dt>
	  <dd>
	    <span th:text="${incident.details}" ></span>
	  </dd>
	</dl>
      </div>
    </fieldset>      
    <div th:if="${incident.hasPersonList()}">
      <div th:insert="personsView::persons(${incident.persons})"></div>
    </div>
    <div th:if="${incident.hasPropertyList()}">
      <div th:insert="propertiesView::properties(${incident.properties},${incident.propertiesTotalValueFr})"></div>
    </div>
    <div th:if="${incident.hasVehicleList()}">
      <div th:insert="vehiclesView::vehicles(${incident.vehicles})"></div>
    </div>
    <div th:if="${incident.hasMediaList()}">
      <div th:insert="mediasView::medias(${incident.medias})"></div>
    </div>
    <div th:if="${incident.hasActionLogs()}">
      <div th:insert="actionLogs::actionLogs(${incident.actionLogs})"></div>
    </div>    
  </body>
</html>
