<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 - @copyright Copyright (C) 2014-2015 City of Bloomington, Indiana. All rights reserved.
 - @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.txt
 - @author W. Sibo <sibow@bloomington.in.gov>
 -
 -->
<html xmlns="http://www.w3.org/1999/xhtml">

<head th:replace="general::head('Incident')"></head>

<body>
	<header th:replace="general::header"></header>

	<main class="public-questions-wrapper">
		<h2>Update Incident</h2>
		<div th:if="${errors}">
			<div th:insert="general::errors(${errors})"></div>
		</div>
		<div th:if="${messages}">
			<div th:insert="general::messages(${messages})"></div>
		</div>
		<p th:insert="general::incidentInstructions">
		</p>
		<p> *indicate required fields</p>

		<form action="#" th:action="@{/incidentUpdate/{id}(id=${incident.id})}" th:object="${incident}"
			onsubmit="return verifyIncidentInput()" method="post">
			<input type="hidden" th:field="${incident.email}" />
			<input type="hidden" th:field="${incident.receivedStr}" />
			<input type="hidden" th:field="${incident.incidentType} " />
			<input type="hidden" th:field="${incident.address} " />
			<fieldset>
				<legend>Incident Date and Time: </legend>
				<p>eg. I went to bed at 11:00PM on Saturday, August 8th. When I woke up on Sunday around 6:00AM, I noticed my car window was smashed with a rock.
				</p>
				<p>You report 8/8/2015 11:00 PM - 8/9/2015 06:00 AM.)</p>
					
					<label for="start_date" class="required">Incident Occurred, Date:</label>
					
					<input type="date" th:field="${incident.dateStr}" id="start_date" size="15" placeholder="mm/dd/yyyy" /> Time:
					<input type="text" th:field="${incident.timeStr}" id="start_time" size="15" class="timepicker"
						placeholder="hh:mm am/pm" />

						<label for="end_date">End Incident, Date:</label>

						
					<input type="date" th:field="${incident.endDateStr}" id="end_date" value="" size="15"
						placeholder="mm/dd/yyyy" /> Time:
					<input type="text" th:field="${incident.endTimeStr}" id="end_time" value="" size="15" class="timepicker"
						placeholder="hh:mm am/pm" />

						
					<p>If unsure of the exact date and time, please give approximate dates/times below.</p>
					
					<textarea th:field="${incident.dateDescription}" id="date_description" rows="3" cols="60"></textarea>
			</fieldset>
			
			<fieldset th:if="${incident.hasAddressInfo()}">
				<legend>Location of Incident</legend>
				<span th:text="${incident.addressInfo}"></span>
			</fieldset>

			<fieldset>
				<legend>Incident Details</legend>
				<p><strong>Incident Type: </strong> <span th:text="${incident.incidentType}"> </span> </p>	
				<div th:if="${incident.showGainedEntry()}">
					<!-- we do not show these fields for lost or vandal cases -->
					<label for="entry_type">Identify how entry was gained to commit the theft.</label>
					
					<select th:field="${incident.entryType}" id="entry_type">
						<option value="">Does not apply</option>
						<option th:each="r : ${entryTypes}" th:value="${r}" th:text="${r}">
						</option>
					</select>
					<label for="other_entry">Other entry gained details:</label>
					<textarea th:field="${incident.otherEntry}" id="other_entry" rows="3" cols="60" placeholder="Other entry"></textarea>
				</div>
				
				<label for="details_id" class="required">Incident Details:</label>
				<textarea th:field="${incident.details}" id="details_id" rows="3" cols="60" required="required" placeholder="Incident Details">
				</textarea>
				
				<label for="evidence_id">Evidence left behind:</label>
				<textarea th:field="${incident.evidence}" id="evidence_id" rows="3" cols="60" placeholder="e.g. blood, shoe prints, fingerprints,..">
				</textarea>
			</fieldset>
			<input type="submit" value="Save Changes" />
			
		</form>
	</main>
	
</body>

</html>
