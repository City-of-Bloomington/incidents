<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 - @copyright Copyright (C) 2014-2015 City of Bloomington, Indiana. All rights reserved.
 - @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.txt
 - @author W. Sibo <sibow@bloomington.in.gov>
 -
 -->
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>Edit Vehicle</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
		<link href = "css/styles.css" rel = "stylesheet"/>
  </head>
  <body>
		<span th:if="${messages}" th:text="${messages}"></span>
		<span th:if="${errors}" th:text="${errors}"></span>
		<h2>Incident Reporting</h2>
		
    <h3>Edit Vehicle</h3>
		<p> *indicated required fields</p>
		<form action="#"
					th:action="@{/vehicle/update}"
					th:object="${vehicle}" method="post">
			<input type="hidden" th:field="${vehicle.incident}" />
			<input type="hidden" th:field="${vehicle.id}" />			
			<table>
				<tr>
					<td>Related incident</td>
					<td><a th:href="@{/incident/{id}(id=${vehicle.incident.id})}">Back to Incident</a></td>							
				</tr>
				
				<tr>
					<td>
						<label for="brand">Vehicle Year</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.year}" id="brand" placeholder="year" />
						<span th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></span>
					</td>
				</tr>
				<tr>
					<td>
						<label for="model">*Make</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.make}" id="make" placeholder="Make" required="required" />
						<span th:if="${#fields.hasErrors('make')}" th:errors="*{make}"></span>
					</td>
				</tr>				
				<tr>
					<td>
						<label for="model">Model</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.model}" id="model" placeholder="Model" />
						<span th:if="${#fields.hasErrors('model')}" th:errors="*{model}"></span>
					</td>
				</tr>
				<tr>
					<td>
						<label for="model">Color</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.color}" id="color" placeholder="Color" />
						<span th:if="${#fields.hasErrors('color')}" th:errors="*{color}"></span>
					</td>
				</tr>				
				<tr>
					<td>
						<label for="serialNum">*Plate Number</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.plateNumber}" id="plateNum" placeholder="Plate Number" required="required"/>
						<span th:if="${#fields.hasErrors('plateNumber')}" th:errors="*{plateNumber}"></span>
					</td>
				</tr>
				<tr>
					<td>
						<label for="serialNum">Plate Year</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.plateYear}" id="plateYear" placeholder="Plate Year" />
						<span th:if="${#fields.hasErrors('plateYear')}" th:errors="*{plateYear}"></span>
					</td>
				</tr>
				<tr>
					<td>
						<label for="plateState">*Plate State</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.state}" id="plateState" placeholder="Plate State" size="2" maxlength="2" required="required"/>
						<span th:if="${#fields.hasErrors('state')}" th:errors="*{state}"></span>
					</td>
				</tr>				
				<tr>
					<td>
						<label for="damageType">Damage Type</label>
					</td>
					<td>
						<select id="damageType_id" th:field="${vehicle.carDamageType}" >
							<option th:each="r : ${damageTypes}"
											th:value="${r.id}"
											th:text="${r.name}">
							</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						<label for="owener">Owner</label>
					</td>
					<td>
						<input type="text" th:field="${vehicle.owner}" id="owner" placeholder="vehicle owner if not yours" size="30" maxlength="70" />
						<span th:if="${#fields.hasErrors('owner')}" th:errors="*{owner}"></span>
					</td>
				</tr>					
				<tr>
					<td>
						<label for="description">Description</label>
					</td>
					<td>				
						<textarea th:field="${vehicle.description}" id="description" placeholder="Description" rows="5" columns="50">
							<span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
							</textarea>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>		
						<input type="submit" value="Save Changes">
					</td>
				</tr>
			</table>
		</form>
	</body>
</htmL>
