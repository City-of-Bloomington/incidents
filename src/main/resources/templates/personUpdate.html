<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 - @copyright Copyright (C) 2014-2015 City of Bloomington, Indiana. All rights reserved.
 - @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.txt
 - @author W. Sibo <sibow@bloomington.in.gov>
 -
 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head th:replace="general::head('Person')"></head>
  <body>
    <header th:replace="general::header">
    </header>		
    <h2>Update Person</h2>
    <div th:if="${errors}">
      <div th:insert="general::errors(${errors})"></div>			
    </div>
    <div th:if="${messages}">
      <div th:insert="general::messages(${messages})"></div>			
    </div>
    <p>*Indicates Required Fields </p>
    <ul th:insert="general::personInstructions">
    </ul>
    <form action="#"
	  th:action="@{/person/update/{id}(id=${person.id})}"
	  th:object="${person}"
	  method="post">
      <input type="hidden" th:field="${person.incident}" />
      <input type="hidden" th:field="${person.email}" />			
      <fieldset>
	<p>Information about the Person Reporting this Incident </p>
	
	<label for="person_type_id">Involvement of this person to this incident as: </label>
	<select id="person_type_id" th:field="${person.personType}" required >
	  <option th:each="r : ${personTypes}"
		  th:value="${r.id}"
		  th:text="${r.name}">
	  </option>
	</select>
	<dl>	
	  <dt>Related incident</dt>
	  <dd><a th:href="@{/incident/{id}(id=${person.incident.id})}">Back to Incident</a>
	  </dd>
	  <dt> 
	    *Full Name: 
	  </dt>
	  <dd>Title (Mr, Ms, Mrs)
	    <select id="title_id" th:field="${person.title}" >
	      <option th:each="r : ${personTitles}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>	      
	    *First Name
	    <input type="text" th:field="${person.firstname}" id="firstname" size="30" required="required" placeholder="First Name" />
	    MI
	    <input type="text" th:field="${person.midname}" id="midname" size="2" maxlength="2" placeholder="MI" />
	    *Last Name
	    <input type="text" th:field="${person.lastname}" id="lastname" size="30" required="required" placeholder="Last Name" />
	    Suffix (Jr, Sr)
	    <span th:with="strList=${#lists.toList({'Jr', 'Sr'})}">
	      <select id="suffix_id" th:field="${person.suffix}" >
		<option value="">Suffix</option>
		<option th:each="r : ${strList}"
			th:value="${r}"
			th:text="${r}">
		</option>
	      </select>	      
	    </span>
	  </dd>
	  <dt>*Address: </dt>
	  <dd>
	    <input type="text" th:field="${person.address}" id="address" size="70" required="required" placeholder="Address" />	
	  </dd>
	  <dt>*City: </dt>
	  <dd>
	    <input type="text" th:field="${person.city}" id="city" size="50" required="required" placeholder="City" />	
	  </dd>
	  <dt>*State: </dt>
	  <dd>
	    <input type="text" th:field="${person.state}" id="state" size="2" required="required" maxlength="2"/>
	    
	  </dd>
	  <dt>*Zip code: </dt>
	  <dd>
	    <input type="text" th:field="${person.zip}" id="zip" size="10" required="required" maxlength="10" placeholder="Zip code" />	
	  </dd>
	  <dt>*Primary phone: </dt>
	  <dd>
	    <select id="phone_type_id" th:field="${person.phoneType}" >
	      <option th:each="r : ${phoneTypes}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>							
	    <input type="text" th:field="${person.phone}" id="phone" size="10" required="required" maxlength="30" placeholder="Phone #" />
	    Secondary Phone:
	    <select id="phone_type_id2" th:field="${person.phoneType2}" >
	      <option th:each="r : ${phoneTypes}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>							
	    <input type="text" th:field="${person.phone2}" id="phone2" size="10" maxlength="30" placeholder="Phone #" />
	  </dd>
	  <dt>Another Email: </dt>
	  <dd>
	    <input type="text" th:field="${person.email2}" id="email2" size="70" maxlength="80" placeholder="Email" />
	  </dd>
	  <dt>*Date of Birth: </dt>
	  <dd>
	    <select id="dob_mm" th:field="${person.dobMonth}" >
	      <option value="">Month</option>
	      <option th:each="r : ${#numbers.sequence(1,12)}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>/
	    <select id="dob_dd" th:field="${person.dobDay}" >
	      <option value="">Day</option>
	      <option th:each="r : ${#numbers.sequence(1,31)}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select> /
	    <input type="text" th:field="${person.dobYear}" id="dob_year" size="4" required="required" maxlength="4" placeholder="Year" />Month/Day/Year
	  </dd>
	  <!-- some space -->
	  <dd> &nbsp;</dd>
	  <dd> Note: the following fields are optional but helpful</dd>
	  <dt>Driver License Number:
	  </dt>
	  <dd>
	    <input type="text" th:field="${person.dln}" id="dln_id" size="20"  maxlength="20" placeholder="DLN" />
	  </dd>
	  <dt>Social Security Number:
	  </dt>
	  <dd>
	    <input type="text" th:field="${person.ssn}" id="ssn_id" size="12"  maxlength="12" placeholder="SSN" />
	  </dd>
	  <dt>Race:
	  </dt>
	  <dd>
	    <select id="race_id" th:field="${person.race}" >
	      <option value="">Race</option>
	      <option th:each="r : ${raceTypes}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>
	  </dd>
	  <dt>Height:
	  </dt>
	  <dd>
	    <select id="height_ft_id" th:field="${person.heightFeet}" >
	      <option value="">ft.</option>
	      <option th:each="r : ${#numbers.sequence(2,7)}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>
	    <select id="height_in_id" th:field="${person.heightInch}" >
	      <option value="">in.</option>
	      <option th:each="r : ${#numbers.sequence(0,11)}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>Weight:
	    <input type="text" th:field="${person.weight}" id="weight" size="3" />lb
	  </dd>
	  <dt>Sex:
	  </dt>
	  <dd>
	    <select id="sex_id" th:field="${person.sex}" >
	      <option value="">Sex</option>								
	      <option th:each="r : ${sexTypes}"
		      th:value="${r}"
		      th:text="${r}">
	      </option>
	    </select>
	  </dd>
	  <dt>Occupation:</dt>
	  <dd>
	    <input type="text" th:field="${person.occupation}" id="occupation" size="70" placeholder="Occupation" />
	  </dd>
	  <dd>
	    <input type="submit" value="Save Changes" />
	  </dd>
	</dl>					
      </fieldset>
    </form>
  </body>
</htmL>
